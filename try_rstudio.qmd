# RStudioをいじってみる

## 初期画面

インストールしたばかりのRStudioは以下のようなレイアウトになっています。

![RStudio](assets/try_rstudio/rstudio.png)

- 左上：ソースコード画面
    - Rのスクリプトを書く画面
- 左下：コンソール画面
    - 入力したスクリプトが実行される画面
    - 直接入力も可能
- 右上：環境画面
    - 実行中に作成した変数や関数を表示する画面
- 右下：ファイル画面
    - ファイルが表示される画面
    - ここからファイルを開くことが可能

基本的にコードを書くのはソースコード画面です。コンソール画面に直接入力し実行することもできますが、再現可能性の観点化らもあまり使用頻度は高くありません^[パッケージのインストールやコードの動作確認など、用途によっては直接入力する場合もあります。]。

## レイアウトを変更してみる

上下左右にそれぞれ画面が分かれていますが、これらの配置を変更することが可能です。

ここでは試しにコンソール画面を右上に配置し、環境画面を左下に配置してみます^[私はスクリプトと実行結果を横に並べて見たいのでこのように配置を変更しています。]。

画面上部の「Tools」>「Global Options...」と進みます。

![](figures/try_rstudio/global_options.png)

続いて左から「Pane Layout」に進み、EnvironmentをConsoleに変更します。

![Consoleを選ぶと、Environmentと入れ替わります](figures/try_rstudio/pane_layout.png)

変更してウィンドウ下部のOKをクリックすれば、右上と左下が入れ替わった画面になります。他も自由に変更できるので、好みに合わせて変更してみてください。

## 新しいスクリプトファイルを開く

デフォルトでは、ソースコード画面に`Untitled1`というRスクリプトファイルが開いています。ここでは、新しいコードファイルを開く方法を試してみましょう。

まず、画面左上の をクリックし、「R Script」を選択します。すると、ソースコード画面に`Untitled2`という新しいファイルが開かれるはずです。

このセクションでは、Rスクリプトにコードを書き、保存し、実行する流れを確認します。

1. スクリプトに`1 + 1`と書く
    - コードは何でもよいです
2. 上部にある![](figures/try_rstudio/save.png)をクリックし、任意の場所と名前で保存する
3. 実行する
    1. コード行をクリックしてカーソルを置き、ソースコード画面右上の「Run」で実行
    2. コード行をクリックしてカーソルを置き、`Ctrl` + `Enter`で実行

実行は、2つのいずれでも同じ動作をします。また、基本的にどこに置いても選択しているコード全体が実行されます。必ずしもコードの先頭や一番後ろを選択しておく必要はありません。

![コードの実行](figures/try_rstudio/run_code.gif)

スクリプトファイルは保存すると`.R`ファイルとして保存されますが、他にもR Markdown（`.Rmd`）やQuarto Markdown（`.qmd`）ファイルなどがあります。R MarkdownとQuarto Markdownは似たファイルですが、どちらもRスクリプトファイルとは仕様が異なります。

これらのファイルについては後の章で説明しますが、いずれもRコードを保存するためのファイルです^[Quarto MarkdownはPythonにも対応しています。]。
